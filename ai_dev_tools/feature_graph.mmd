flowchart TD


    subgraph Application_Layer [" "]
        title_Application_Layer["APPLICATION LAYER"]
        app_animation_ticker["Animation Ticker Engine"]
        title_Application_Layer ~~~ app_animation_ticker
        app_config_system["Config Injection System"]
        title_Application_Layer ~~~ app_config_system
        touch_gesture_engine["Touch Gesture Engine"]
        title_Application_Layer ~~~ touch_gesture_engine
        ui_logo_screen["Logo Splash Screen"]
        title_Application_Layer ~~~ ui_logo_screen
    end

    subgraph Board_Drivers [" "]
        title_Board_Drivers["BOARD DRIVERS"]
        display_esp32s3_amoled["ESP32-S3 AMOLED Driver"]
        title_Board_Drivers ~~~ display_esp32s3_amoled
        display_tdisplay_s3_plus["T-Display S3+ Driver"]
        title_Board_Drivers ~~~ display_tdisplay_s3_plus
    end

    subgraph Data_Layer [" "]
        title_Data_Layer["DATA LAYER"]
        data_layer_core["Base Data Model"]
        title_Data_Layer ~~~ data_layer_core
        data_layer_stock_tracker["Data Stock Tracker"]
        title_Data_Layer ~~~ data_layer_stock_tracker
        data_layer_time_series["Time Series Data Item"]
        title_Data_Layer ~~~ data_layer_time_series
    end

    subgraph Graphics_Engine [" "]
        title_Graphics_Engine["GRAPHICS ENGINE"]
        display_canvas_drawing["Layered Canvas Drawing"]
        title_Graphics_Engine ~~~ display_canvas_drawing
        display_relative_drawing["Relative Drawing"]
        title_Graphics_Engine ~~~ display_relative_drawing
        ui_vector_assets["Vector Asset Pipeline"]
        title_Graphics_Engine ~~~ ui_vector_assets
    end

    subgraph Hardware_Layer [" "]
        title_Hardware_Layer["HARDWARE LAYER"]
        display_rotation_contract["Rotation Contract"]
        title_Hardware_Layer ~~~ display_rotation_contract
        display_target_rotation["Target Rotation"]
        title_Hardware_Layer ~~~ display_target_rotation
        hal_core_contract["HAL Core Contract"]
        title_Hardware_Layer ~~~ hal_core_contract
        hal_dma_blitting["DMA Blitting"]
        title_Hardware_Layer ~~~ hal_dma_blitting
        hal_spec_display["HAL Display Specification"]
        title_Hardware_Layer ~~~ hal_spec_display
        hal_spec_network["HAL Network Specification"]
        title_Hardware_Layer ~~~ hal_spec_network
        hal_spec_timer["HAL Timer Specification"]
        title_Hardware_Layer ~~~ hal_spec_timer
        hal_spec_touch["HAL: Touch Spec"]
        title_Hardware_Layer ~~~ hal_spec_touch
        hal_timer_esp32["ESP32 Timer"]
        title_Hardware_Layer ~~~ hal_timer_esp32
        touch_cst816_implementation["HAL: CST816 Impl"]
        title_Hardware_Layer ~~~ touch_cst816_implementation
    end

    subgraph Release_Demos [" "]
        title_Release_Demos["RELEASE DEMOS"]
        demo_release_0_5["Demo for Release v0.5"]
        title_Release_Demos ~~~ demo_release_0_5
        demo_release_0_55["Demo for Release v0.55"]
        title_Release_Demos ~~~ demo_release_0_55
        demo_release_0_58["Demo for Release v0.58"]
        title_Release_Demos ~~~ demo_release_0_58
        demo_release_0_60["Demo v0.60"]
        title_Release_Demos ~~~ demo_release_0_60
    end

    subgraph Releases [" "]
        title_Releases["RELEASES"]
        RELEASE_v0_55_connectivity_smoke_test["Release v0.55 - Connectivity Smoke Test"]
        title_Releases ~~~ RELEASE_v0_55_connectivity_smoke_test
        RELEASE_v0_58_dynamic_visuals["Release v0.58 - Dynamic Visuals"]
        title_Releases ~~~ RELEASE_v0_58_dynamic_visuals
        RELEASE_v0_5_display_drawing_ui_base["Release v0.5 - Display, Drawing & UI Base"]
        title_Releases ~~~ RELEASE_v0_5_display_drawing_ui_base
        RELEASE_v0_60_initial_stock_tracker["Release v0.60"]
        title_Releases ~~~ RELEASE_v0_60_initial_stock_tracker
        RELEASE_v0_65_touch_interaction["Release v0.65 (Touch)"]
        title_Releases ~~~ RELEASE_v0_65_touch_interaction
        RELEASE_v0_67_system_menu["Release v0.67 (System Menu)"]
        title_Releases ~~~ RELEASE_v0_67_system_menu
    end

    subgraph UI_Framework [" "]
        title_UI_Framework["UI FRAMEWORK"]
        ui_base["Base UI Elements"]
        title_UI_Framework ~~~ ui_base
        ui_connectivity_status_screen["Connectivity Status Screen"]
        title_UI_Framework ~~~ ui_connectivity_status_screen
        ui_live_indicator["Animated Live Indicator"]
        title_UI_Framework ~~~ ui_live_indicator
        ui_mini_logo["UI Mini Logo"]
        title_UI_Framework ~~~ ui_mini_logo
        ui_system_menu["System Menu"]
        title_UI_Framework ~~~ ui_system_menu
        ui_theme_support["Theme Support"]
        title_UI_Framework ~~~ ui_theme_support
        ui_themeable_time_series_graph["Themeable Graph"]
        title_UI_Framework ~~~ ui_themeable_time_series_graph
        ui_themeable_time_series_graph_v2["UI Time Series Graph v2"]
        title_UI_Framework ~~~ ui_themeable_time_series_graph_v2
        ui_touch_test_overlay["UI: Touch Overlay"]
        title_UI_Framework ~~~ ui_touch_test_overlay
    end

    %% Relationships
    RELEASE_v0_5_display_drawing_ui_base --> RELEASE_v0_55_connectivity_smoke_test
    hal_spec_network --> RELEASE_v0_55_connectivity_smoke_test
    app_config_system --> RELEASE_v0_55_connectivity_smoke_test
    ui_connectivity_status_screen --> RELEASE_v0_55_connectivity_smoke_test
    demo_release_0_55 --> RELEASE_v0_55_connectivity_smoke_test
    RELEASE_v0_55_connectivity_smoke_test --> RELEASE_v0_58_dynamic_visuals
    data_layer_time_series --> RELEASE_v0_58_dynamic_visuals
    demo_release_0_58 --> RELEASE_v0_58_dynamic_visuals
    hal_spec_display --> RELEASE_v0_5_display_drawing_ui_base
    hal_spec_timer --> RELEASE_v0_5_display_drawing_ui_base
    hal_timer_esp32 --> RELEASE_v0_5_display_drawing_ui_base
    hal_dma_blitting --> RELEASE_v0_5_display_drawing_ui_base
    display_rotation_contract --> RELEASE_v0_5_display_drawing_ui_base
    display_target_rotation --> RELEASE_v0_5_display_drawing_ui_base
    display_esp32s3_amoled --> RELEASE_v0_5_display_drawing_ui_base
    display_tdisplay_s3_plus --> RELEASE_v0_5_display_drawing_ui_base
    display_canvas_drawing --> RELEASE_v0_5_display_drawing_ui_base
    display_relative_drawing --> RELEASE_v0_5_display_drawing_ui_base
    ui_base --> RELEASE_v0_5_display_drawing_ui_base
    app_animation_ticker --> RELEASE_v0_5_display_drawing_ui_base
    ui_live_indicator --> RELEASE_v0_5_display_drawing_ui_base
    ui_theme_support --> RELEASE_v0_5_display_drawing_ui_base
    ui_vector_assets --> RELEASE_v0_5_display_drawing_ui_base
    ui_logo_screen --> RELEASE_v0_5_display_drawing_ui_base
    demo_release_0_5 --> RELEASE_v0_5_display_drawing_ui_base
    RELEASE_v0_58_dynamic_visuals --> RELEASE_v0_60_initial_stock_tracker
    demo_release_0_60 --> RELEASE_v0_60_initial_stock_tracker
    ui_touch_test_overlay --> RELEASE_v0_65_touch_interaction
    ui_system_menu --> RELEASE_v0_67_system_menu
    RELEASE_v0_60_initial_stock_tracker --> RELEASE_v0_67_system_menu
    hal_spec_timer --> app_animation_ticker
    hal_core_contract --> data_layer_core
    data_layer_time_series --> data_layer_stock_tracker
    data_layer_core --> data_layer_time_series
    data_layer_time_series --> demo_release_0_58
    demo_release_0_55 --> demo_release_0_58
    demo_release_0_58 --> demo_release_0_60
    ui_mini_logo --> demo_release_0_60
    data_layer_stock_tracker --> demo_release_0_60
    ui_themeable_time_series_graph_v2 --> demo_release_0_60
    ui_connectivity_status_screen --> demo_release_0_60
    hal_spec_display --> display_canvas_drawing
    hal_spec_display --> display_esp32s3_amoled
    hal_spec_display --> display_relative_drawing
    hal_spec_display --> display_tdisplay_s3_plus
    hal_core_contract --> hal_spec_display
    hal_core_contract --> hal_spec_network
    hal_core_contract --> hal_spec_timer
    hal_core_contract --> hal_spec_touch
    hal_spec_timer --> hal_timer_esp32
    hal_spec_touch --> touch_cst816_implementation
    hal_spec_touch --> touch_gesture_engine
    hal_spec_network --> ui_connectivity_status_screen
    ui_base --> ui_connectivity_status_screen
    ui_vector_assets --> ui_logo_screen
    app_animation_ticker --> ui_logo_screen
    ui_logo_screen --> ui_mini_logo
    touch_gesture_engine --> ui_system_menu
    ui_theme_support --> ui_system_menu
    display_canvas_drawing --> ui_theme_support
    ui_themeable_time_series_graph --> ui_themeable_time_series_graph_v2
    touch_gesture_engine --> ui_touch_test_overlay
    display_relative_drawing --> ui_vector_assets

    %% Styling Definitions
    classDef default fill:#e1f5fe,stroke:#01579b,stroke-width:1px,color:black;
    classDef release fill:#f96,stroke:#333,stroke-width:2px,color:black,font-weight:bold;
    classDef hardware fill:#e8f5e9,stroke:#2e7d32,stroke-width:1px,color:black;
    classDef ui fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px,color:black;
    classDef app fill:#fff3e0,stroke:#e65100,stroke-width:1px,color:black;
    classDef graphics fill:#e0f7fa,stroke:#006064,stroke-width:1px,color:black;
    classDef subgraphTitle fill:none,stroke:none,color:#111,font-size:32px,font-weight:bold;

    %% Style Applications
    class title_Application_Layer subgraphTitle;
    class app_animation_ticker app;
    class app_config_system app;
    class touch_gesture_engine app;
    class ui_logo_screen app;
    class title_Board_Drivers subgraphTitle;
    class title_Data_Layer subgraphTitle;
    class title_Graphics_Engine subgraphTitle;
    class display_canvas_drawing graphics;
    class display_relative_drawing graphics;
    class ui_vector_assets graphics;
    class title_Hardware_Layer subgraphTitle;
    class display_rotation_contract hardware;
    class display_target_rotation hardware;
    class hal_core_contract hardware;
    class hal_dma_blitting hardware;
    class hal_spec_display hardware;
    class hal_spec_network hardware;
    class hal_spec_timer hardware;
    class hal_spec_touch hardware;
    class hal_timer_esp32 hardware;
    class touch_cst816_implementation hardware;
    class title_Release_Demos subgraphTitle;
    class demo_release_0_5 release;
    class demo_release_0_55 release;
    class demo_release_0_58 release;
    class demo_release_0_60 release;
    class title_Releases subgraphTitle;
    class RELEASE_v0_55_connectivity_smoke_test release;
    class RELEASE_v0_58_dynamic_visuals release;
    class RELEASE_v0_5_display_drawing_ui_base release;
    class RELEASE_v0_60_initial_stock_tracker release;
    class RELEASE_v0_65_touch_interaction release;
    class RELEASE_v0_67_system_menu release;
    class title_UI_Framework subgraphTitle;
    class ui_base ui;
    class ui_connectivity_status_screen ui;
    class ui_live_indicator ui;
    class ui_mini_logo ui;
    class ui_system_menu ui;
    class ui_theme_support ui;
    class ui_themeable_time_series_graph ui;
    class ui_themeable_time_series_graph_v2 ui;
    class ui_touch_test_overlay ui;